@using FeTracker.Common.Icons
@using FeTracker.Common.Interfaces

<img src="@SRC" onclick=@(() => HandleClick()) class="@Icon?.Class">

@code {
    [Parameter]
    public IClickable? Icon { get; set; }

    private string SRC { get; set; } = string.Empty;

    private void HandleClick()
    {
        Icon?.HandleClick();
        SRC = GetImgSrc();
    }

    private string GetImgSrc() => Icon is null
        ? string.Empty
        : $"Icons/{Icon?.FileName}";

    protected override void OnInitialized()
    {
        SRC = GetImgSrc();
        base.OnInitialized();
    }
}
